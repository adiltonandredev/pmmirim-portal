module.exports=[24868,(a,b,c)=>{b.exports=a.x("fs/promises",()=>require("fs/promises"))},21526,a=>{"use strict";var b=a.i(24868),c=a.i(14747);async function d(a,e="general"){if(!a||"object"!=typeof a||!a.size)return"";try{let d=await a.arrayBuffer(),f=Buffer.from(d),g=a.name.replace(/[^a-zA-Z0-9.-]/g,"_"),h=`${Date.now()}-${g}`,i=(0,c.join)(process.cwd(),"public","uploads",e);await (0,b.mkdir)(i,{recursive:!0});let j=(0,c.join)(i,h);return await (0,b.writeFile)(j,f),`/uploads/${e}/${h}`}catch(a){return console.error(`Erro ao salvar arquivo em ${e}:`,a),""}}a.s(["saveFile",()=>d])},43620,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558),e=a.i(21526);async function f(a){try{let b=await c.prisma.siteSettings.findFirst(),f={siteName:a.get("siteName"),description:a.get("description"),legalName:a.get("legalName"),cnpj:a.get("cnpj"),businessHours:a.get("businessHours"),contactEmail:a.get("contactEmail"),contactPhone:a.get("contactPhone"),address:a.get("address"),instagramUrl:a.get("instagramUrl"),facebookUrl:a.get("facebookUrl"),youtubeUrl:a.get("youtubeUrl"),impactedYouth:a.get("impactedYouth"),yearsOfHistory:a.get("yearsOfHistory")},g=a.get("logo"),h=b?.logoUrl;return g&&g.size>0&&(h=await (0,e.saveFile)(g,"settings")),b?await c.prisma.siteSettings.update({where:{id:b.id},data:{...f,...h&&{logoUrl:h}}}):await c.prisma.siteSettings.create({data:{...f,logoUrl:h}}),(0,d.revalidatePath)("/"),(0,d.revalidatePath)("/admin/settings"),(0,d.revalidatePath)("/projetos"),{success:!0}}catch(a){return console.error("Erro ao salvar configurações:",a),{error:"Falha ao salvar as configurações."}}}async function g(a){try{let b=a.get("id"),e=null;e=b?await c.prisma.instagramSettings.findUnique({where:{id:b}}):await c.prisma.instagramSettings.findFirst();let f={username:a.get("username"),accessToken:a.get("accessToken"),showFeed:"on"===a.get("showFeed")};return e?await c.prisma.instagramSettings.update({where:{id:e.id},data:f}):await c.prisma.instagramSettings.create({data:f}),(0,d.revalidatePath)("/"),{success:!0}}catch(a){return console.error("Erro Instagram:",a),{error:"Erro ao salvar dados do Instagram."}}}(0,a.i(13095).ensureServerEntryExports)([f,g]),(0,b.registerServerReference)(f,"40ca586776e1d219b94aa8122d9d4079b39e5a55b4",null),(0,b.registerServerReference)(g,"40f71f19fa23265c01769d35c0b64fd57c6e7c45f0",null),a.s([],59626),a.i(59626),a.s(["40ca586776e1d219b94aa8122d9d4079b39e5a55b4",()=>f,"40f71f19fa23265c01769d35c0b64fd57c6e7c45f0",()=>g],43620)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__df4b73f2._.js.map