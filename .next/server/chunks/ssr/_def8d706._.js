module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},74618,a=>{"use strict";let b=(0,a.i(70106).default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);a.s(["UploadCloud",()=>b],74618)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},66718,70430,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d],66718);var e=a.i(72131);a.i(35112);var f=a.i(11011),g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,c)=>{let d=(0,f.createSlot)(`Primitive.${c}`),g=e.forwardRef((a,e)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?d:c,{...g,ref:e})});return g.displayName=`Primitive.${c}`,{...a,[c]:g}},{}),h=e.forwardRef((a,c)=>(0,b.jsx)(g.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));function i({className:a,...d}){return(0,b.jsx)(h,{"data-slot":"label",className:(0,c.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...d})}h.displayName="Label",a.s(["Label",()=>i],70430)},29246,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},46842,a=>{"use strict";let b=(0,a.i(70106).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],46842)},92258,a=>{"use strict";let b=(0,a.i(70106).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],92258)},69292,a=>{"use strict";let b=(0,a.i(70106).default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);a.s(["Instagram",()=>b],69292)},42774,a=>{"use strict";var b=a.i(87924),c=a.i(5050);let d=(0,c.createServerReference)("40a5f44924e44ddd17e17d920f36c235d18522fbd1",c.callServer,void 0,c.findSourceMapURL,"updateTeamMember"),e=(0,c.createServerReference)("409aaad86672a127821d1c9a809d7a6feef569a2ae",c.callServer,void 0,c.findSourceMapURL,"createTeamMember");var f=a.i(99570),g=a.i(66718),h=a.i(70430),i=a.i(29246),j=a.i(80701),k=a.i(72131),l=a.i(14548),m=a.i(96221),n=a.i(74618),o=a.i(46842),p=a.i(33508),q=a.i(69292),r=a.i(92258),s=a.i(71987),t=a.i(50944),u=a.i(23292);let v=["Diretoria Executiva","Diretoria Administrativa","Conselho Fiscal","Coordenação","Instrutores","As Poderosas","Voluntários","Outros"];function w({member:a}){let c=(0,t.useRouter)(),[w,x]=(0,k.useState)(!1),[y,z]=(0,k.useState)(a?.image||null),A=(0,k.useRef)(null),B=async b=>{x(!0);try{let f;a?.id?(b.append("id",a.id),(!b.get("image")||0===b.get("image").size)&&a.image&&b.append("existingImage",a.image),f=await d(b)):f=await e(b),f?.error?u.toast.error(f.error):(u.toast.success(a?.id?"Membro atualizado!":"Membro adicionado!"),c.push("/admin/institution/team"),c.refresh())}catch(a){u.toast.error("Erro inesperado.")}x(!1)};return(0,b.jsx)("form",{ref:A,action:B,className:"space-y-6 pb-20",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_250px] gap-6",children:[(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Nome Completo *"}),(0,b.jsx)(g.Input,{name:"name",defaultValue:a?.name,required:!0,placeholder:"Ex: Cap. João Silva"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Cargo / Função *"}),(0,b.jsx)(g.Input,{name:"role",defaultValue:a?.role,required:!0,placeholder:"Ex: Diretor Administrativo"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Categoria"}),(0,b.jsxs)(j.Select,{name:"category",defaultValue:a?.category,children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Selecione a categoria"})}),(0,b.jsx)(j.SelectContent,{children:v.map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Ordem de Exibição"}),(0,b.jsx)(g.Input,{name:"order",type:"number",defaultValue:a?.order||0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{children:"Biografia Curta"}),(0,b.jsx)(i.Textarea,{name:"bio",defaultValue:a?.bio,rows:3,placeholder:"Breve descrição sobre o membro...",className:"resize-none"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2 border-t border-slate-100",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.Instagram,{size:14})," Instagram (Opcional)"]}),(0,b.jsx)(g.Input,{name:"instagram",defaultValue:a?.instagram,placeholder:"@usuario"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Mail,{size:14})," Email (Opcional)"]}),(0,b.jsx)(g.Input,{name:"email",defaultValue:a?.email,placeholder:"contato@email.com"})]})]})]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm space-y-3",children:[(0,b.jsx)(h.Label,{children:"Foto do Membro"}),(0,b.jsxs)("div",{className:"relative w-full aspect-[3/4] bg-slate-50 rounded-lg overflow-hidden border-2 border-dashed border-slate-200 hover:border-blue-400 group cursor-pointer transition-colors",children:[y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.default,{src:y,alt:"Preview",fill:!0,className:"object-cover"}),(0,b.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-all flex flex-col items-center justify-center text-white pointer-events-none",children:[(0,b.jsx)(n.UploadCloud,{size:24,className:"mb-1"})," ",(0,b.jsx)("span",{className:"text-xs font-bold",children:"Trocar"})]}),(0,b.jsx)("button",{type:"button",onClick:()=>{if(z(null),A.current){let a=A.current.querySelector('input[name="image"]');a&&(a.value="")}},className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full shadow-md z-30 hover:scale-110 transition-transform",children:(0,b.jsx)(p.X,{size:12})})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 p-4 text-center pointer-events-none",children:[(0,b.jsx)(o.User,{size:32,className:"text-slate-300 mb-2"}),(0,b.jsx)("span",{className:"text-xs font-bold text-slate-500",children:"Enviar Foto"})]}),(0,b.jsx)("input",{type:"file",name:"image",accept:"image/png, image/jpeg, image/webp",onChange:a=>{let b=a.target.files?.[0];if(b){if(!["image/jpeg","image/png","image/webp"].includes(b.type)){u.toast.error("Formato inválido!",{description:"Use JPG, PNG ou WEBP."}),a.target.value="";return}if(b.size>0xa00000){u.toast.warning("Arquivo muito pesado!",{description:"Máximo 10MB."}),a.target.value="";return}z(URL.createObjectURL(b))}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"})]}),(0,b.jsx)("p",{className:"text-[10px] text-center text-slate-400",children:"Recomendado: 3x4 (Vertical)"})]}),(0,b.jsxs)(f.Button,{type:"submit",disabled:w,className:"w-full bg-blue-600 hover:bg-blue-700 font-bold text-white h-12 shadow-md",children:[w?(0,b.jsx)(m.Loader2,{className:"animate-spin mr-2"}):(0,b.jsx)(l.Save,{className:"mr-2",size:18}),"Salvar"]})]})]})})}a.s(["MemberForm",()=>w],42774)}];

//# sourceMappingURL=_def8d706._.js.map