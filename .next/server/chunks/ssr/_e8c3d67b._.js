module.exports=[13490,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558);async function e(a){let b=a.get("accessToken"),e=a.get("username"),f="on"===a.get("enabled"),g=await c.prisma.instagramSettings.findFirst();return g?await c.prisma.instagramSettings.update({where:{id:g.id},data:{accessToken:b,username:e,enabled:f}}):await c.prisma.instagramSettings.create({data:{accessToken:b,username:e,enabled:f}}),(0,d.revalidatePath)("/"),(0,d.revalidatePath)("/admin/instagram"),{success:!0}}async function f(){try{let a=await c.prisma.instagramSettings.findFirst();if(!a||!a.enabled||!a.accessToken)return[];let b=`https://graph.instagram.com/me/media?fields=id,caption,media_type,media_url,thumbnail_url,permalink&access_token=${a.accessToken}&limit=8`,d=await fetch(b,{next:{revalidate:3600}});if(!d.ok)return console.error("Erro ao buscar Instagram:",await d.text()),[];return(await d.json()).data||[]}catch(a){return console.error("Erro no feed do Instagram:",a),[]}}(0,a.i(13095).ensureServerEntryExports)([e,f]),(0,b.registerServerReference)(e,"401cceb71193a2a85cc773ad8dd23b72a4392e9fa2",null),(0,b.registerServerReference)(f,"00066019b3aa2203a2639d4362cd53710ea0697bdf",null),a.s(["getInstagramFeed",()=>f,"saveInstagramSettings",()=>e])},39954,a=>{"use strict";var b=a.i(13490);a.s([],19075),a.i(19075),a.s(["00066019b3aa2203a2639d4362cd53710ea0697bdf",()=>b.getInstagramFeed,"401cceb71193a2a85cc773ad8dd23b72a4392e9fa2",()=>b.saveInstagramSettings],39954)}];

//# sourceMappingURL=_e8c3d67b._.js.map