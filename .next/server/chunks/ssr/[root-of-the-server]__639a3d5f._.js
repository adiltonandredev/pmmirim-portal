module.exports=[24868,(a,b,c)=>{b.exports=a.x("fs/promises",()=>require("fs/promises"))},52806,a=>{"use strict";var b=a.i(37936),c=a.i(24868),d=a.i(14747);async function e(a){let b=a.get("file");if(!b)throw Error("Nenhum arquivo enviado");let e=await b.arrayBuffer(),f=Buffer.from(e),g=`${Date.now()}-${b.name.replace(/\s/g,"-")}`,h=(0,d.join)(process.cwd(),"public","uploads");try{await (0,c.mkdir)(h,{recursive:!0})}catch(a){}let i=(0,d.join)(h,g);return await (0,c.writeFile)(i,f),`/uploads/${g}`}(0,a.i(13095).ensureServerEntryExports)([e]),(0,b.registerServerReference)(e,"401628db911d95f41b15dc4a76335400ed4d4ce6ea",null),a.s(["uploadImage",()=>e])},65197,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558);async function e(a){let b=a.get("title"),e=a.get("content"),f=a.get("mission"),g=a.get("vision"),h=a.get("values"),i=a.get("principles"),j=await c.prisma.institutionHistory.findFirst();return j?await c.prisma.institutionHistory.update({where:{id:j.id},data:{title:b,content:e,mission:f,vision:g,values:h,principles:i}}):await c.prisma.institutionHistory.create({data:{title:b||"HistÃ³ria da PMMirim",content:e||"",mission:f,vision:g,values:h,principles:i}}),(0,d.revalidatePath)("/instituicao/historia"),(0,d.revalidatePath)("/admin/institution/history"),{success:!0}}(0,a.i(13095).ensureServerEntryExports)([e]),(0,b.registerServerReference)(e,"408c6ac672c1556d44826396207e5c2aecc3e0b9d4",null),a.s(["updateInstitutionHistory",()=>e])},86868,a=>{"use strict";var b=a.i(65197),c=a.i(52806);a.s([],39228),a.i(39228),a.s(["401628db911d95f41b15dc4a76335400ed4d4ce6ea",()=>c.uploadImage,"408c6ac672c1556d44826396207e5c2aecc3e0b9d4",()=>b.updateInstitutionHistory],86868)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__639a3d5f._.js.map